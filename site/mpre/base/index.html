<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>base - mpre</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">mpre</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../..">Homepage</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Tutorial <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../base_tutorial/">Base objects</a>
                            </li>
                        
                            <li >
                                <a href="../../Building_a_Base_object/">Base objects 2</a>
                            </li>
                        
                            <li >
                                <a href="../../Metaclass_features/">Metaclass features</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">mpre <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li class="active">
                                <a href="./">base</a>
                            </li>
                        
                            <li >
                                <a href="../compiler/">compiler</a>
                            </li>
                        
                            <li >
                                <a href="../defaults/">defaults</a>
                            </li>
                        
                            <li >
                                <a href="../fileio/">fileio</a>
                            </li>
                        
                            <li >
                                <a href="../metaclass/">metaclass</a>
                            </li>
                        
                            <li >
                                <a href="../metapython/">metapython</a>
                            </li>
                        
                            <li >
                                <a href="../network/">network</a>
                            </li>
                        
                            <li >
                                <a href="../network2/">network2</a>
                            </li>
                        
                            <li >
                                <a href="../package/">package</a>
                            </li>
                        
                            <li >
                                <a href="../restore/">restore</a>
                            </li>
                        
                            <li >
                                <a href="../shell_launcher/">shell_launcher</a>
                            </li>
                        
                            <li >
                                <a href="../translate/">translate</a>
                            </li>
                        
                            <li >
                                <a href="../updatetest/">updatetest</a>
                            </li>
                        
                            <li >
                                <a href="../userinput/">userinput</a>
                            </li>
                        
                            <li >
                                <a href="../utilities/">utilities</a>
                            </li>
                        
                            <li >
                                <a href="../vmlibrary/">vmlibrary</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">audio <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../audio/alsaaudiodevices/">alsaaudiodevices</a>
                            </li>
                        
                            <li >
                                <a href="../../audio/audiolibrary/">audiolibrary</a>
                            </li>
                        
                            <li >
                                <a href="../../audio/audio_config_utility/">audio_config_utility</a>
                            </li>
                        
                            <li >
                                <a href="../../audio/capture_live_audio/">capture_live_audio</a>
                            </li>
                        
                            <li >
                                <a href="../../audio/defaults/">defaults</a>
                            </li>
                        
                            <li >
                                <a href="../../audio/play_wav_file/">play_wav_file</a>
                            </li>
                        
                            <li >
                                <a href="../../audio/portaudiodevices/">portaudiodevices</a>
                            </li>
                        
                            <li >
                                <a href="../../audio/utilities/">utilities</a>
                            </li>
                        
                            <li >
                                <a href="../../audio/wav_file_info/">wav_file_info</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">gui <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../gui/defaults/">defaults</a>
                            </li>
                        
                            <li >
                                <a href="../../gui/guilibrary/">guilibrary</a>
                            </li>
                        
                            <li >
                                <a href="../../gui/sdllibrary/">sdllibrary</a>
                            </li>
                        
                            <li >
                                <a href="../../gui/widgetlibrary/">widgetlibrary</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">misc <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../misc/attributetest/">attributetest</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/attributetest2/">attributetest2</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/attributetest3/">attributetest3</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/bytecodedis/">bytecodedis</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/bytecodemap/">bytecodemap</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/compile/">compile</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/compresstest/">compresstest</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/convert_bases/">convert_bases</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/decoratorlibrary/">decoratorlibrary</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/decoratorlibrary2/">decoratorlibrary2</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/dialectlibrary/">dialectlibrary</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/install_dependencies/">install_dependencies</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/referencetest/">referencetest</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/scratch/">scratch</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/securitylibrary/">securitylibrary</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/structtest/">structtest</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/todo/">todo</a>
                            </li>
                        
                            <li >
                                <a href="../../misc/verbosedialect/">verbosedialect</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">programs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../programs/build_metapython_package/">build_metapython_package</a>
                            </li>
                        
                            <li >
                                <a href="../../programs/download_file/">download_file</a>
                            </li>
                        
                            <li >
                                <a href="../../programs/file_server/">file_server</a>
                            </li>
                        
                            <li >
                                <a href="../../programs/get_modules/">get_modules</a>
                            </li>
                        
                            <li >
                                <a href="../../programs/restore/">restore</a>
                            </li>
                        
                            <li >
                                <a href="../../programs/send_file/">send_file</a>
                            </li>
                        
                            <li >
                                <a href="../../programs/stupidreceive/">stupidreceive</a>
                            </li>
                        
                            <li >
                                <a href="../../programs/stupidsend/">stupidsend</a>
                            </li>
                        
                            <li >
                                <a href="../../programs/unzip/">unzip</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">tests <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../tests/bytecodedis/">bytecodedis</a>
                            </li>
                        
                            <li >
                                <a href="../../tests/bytecodemap/">bytecodemap</a>
                            </li>
                        
                            <li >
                                <a href="../../tests/hashdicttest/">hashdicttest</a>
                            </li>
                        
                            <li >
                                <a href="../../tests/installtest/">installtest</a>
                            </li>
                        
                            <li >
                                <a href="../../tests/lru_test/">lru_test</a>
                            </li>
                        
                            <li >
                                <a href="../../tests/network2/">network2</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li >
                    <a rel="next" href="../../Metaclass_features/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../compiler/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#mprebase">mpre.base</a></li>
        
            <li><a href="#base">Base</a></li>
        
            <li><a href="#reactor">Reactor</a></li>
        
            <li><a href="#wrapper">Wrapper</a></li>
        
            <li><a href="#proxy">Proxy</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="mprebase">mpre.base</h1>
<p>No documentation available</p>
<h2 id="base">Base</h2>
<pre class="prettyprint well"><code> usage: instance = Base(attribute=value, ...)

The root inheritance object that provides many of the features
of the runtime environment. An object that inherits from base will 
possess these capabilities:

- When instantiating, arbitrary attributes may be assigned
  via keyword arguments

- The class includes a defaults attribute, which is a dictionary
  of name:value pairs. These pairs will be assigned as attributes
  to new instances; Any attribute specified via keyword argument
  will override a default

- The flag parse_args=True may be passed to the call to 
  instantiate a new object. If so, then the metaclass
  generated parser will be used to interpret command
  line arguments. Only command line arguments that are
  in the class defaults dictionary will be assigned to 
  the new instance. Arguments by default are supplied 
  explicitly with long flags in the form --attribute value.
  Arguments assigned via the command line will override 
  both defaults and any keyword arg specified values. 
  Consult the parser defintion for further information,
  including using short/positional args and ignoring attributes.

- The methods create/delete, and add/remove:
- The create method returns an instantiated object and
  calls add on it automatically. This performs book keeping
  with the environment regarding references and parent information.
- The delete method is used to explicitly destroy a component.
  It calls remove internally to remove known locations
  where the object is stored and update any tracking 
  information in the environment

- The alert method, which makes logging and statements 
  of varying verbosity simple and straight forward.

- parallel_method calls. This method is used in a 
  similar capacity to Instruction objects, but the
  call happens immediately and the return value from the
  specified method is available

- Decorator(s) and monkey patches may be specified via
  keyword argument to any method call. Note that this
  functionality does not apply to python objects
  builtin magic methods (i.e. __init__). The syntax
  for this is:

- component.method(decorator='module.Decorator')
- component.method(decorators=['module.Decorator', ...])
- component.method(monkey_patch='module.Method')

  The usage of these does not permanently wrap/replace the
  method. The decorator/patch is only applied when specified.

- Augmented docstrings. Information about class defaults
  and method names + argument signatures + method docstrings (if any)
  is included automatically.

Note that some features are facilitated by the metaclass. These include
the argument parser, runtime decoration, and documentation.

Instances of Base classes are counted and have an instance_name attribute.
This is equal to type(instance).__name__ + str(instance_count). There
is an exception to this; The first instance is number 0 and
its name is simply type(instance).__name__, without 0 at the end.
This name associates the instance to the instance_name in the
mpre.environment.Component_Resolve. The instance_name is used
for lookups in Instructions, parallel method calls, and reactions.

Base objects can specify a memory_size attribute. If specified,
the object will have a .memory attribute. This is a chunk of
anonymous, contiguous memory of the size specified, provided
by pythons mmap.mmap. This memory attribute can be useful because 
it supports both the file-style read/write/seek interface and 
string-style slicing
</code></pre>
<p>Default values for newly created instances:</p>
<ul>
<li>deleted                  : False</li>
<li>verbosity                : </li>
<li>memory_size              : 4096</li>
<li>memory_mode              : -1</li>
</ul>
<p>This object defines the following non-private methods:</p>
<ul>
<li>
<p><strong>load</strong>(cls, attributes=None, _file=None):</p>
<pre class="prettyprint well"><code>  usage: base_object.load([attributes], [_file]) =&gt; restored_instance

 Loads state preserved by the save method. The attributes argument, if specified,
 should be a dictionary created by unpickling the bytestream returned by the 
 save method. Alternatively the _file argument may be supplied. _file should be
 a file like object that has previously been supplied to the save method.

 Note that unlike save, this method requires either attributes or _file to be
 specified. Also note that if attributes are specified, it should be a dictionary
 that was produced by the save method - simply passing an objects __dict__ will
 result in exceptions.

 To customize the behavior of an object after it has been loaded, one should
 extend the on_load method instead of load.
</code></pre>
</li>
<li>
<p><strong>set_attributes</strong>(self, **kwargs):</p>
<pre class="prettyprint well"><code>  usage: object.set_attributes(attr1=value1, attr2=value2).

 Each key:value pair specified as keyword arguments will be
 assigned as attributes of the calling object. Keys are string
 attribute names and the corresponding values can be anything.

 This is called implicitly in __init__ for Base objects.
</code></pre>
</li>
<li>
<p><strong>update</strong>(self):</p>
<pre class="prettyprint well"><code>  usage: base_instance.update() =&gt; updated_base

 Reloads the module that defines base and returns an updated instance. The
 old component is replaced by the updated component in the environment.
 Further references to the object via instance_name will be directed to the
 new, updated object. Attributes of the original object will be assigned
 to the updated object.
</code></pre>
</li>
<li>
<p><strong>alert</strong>(self, message='Unspecified alert message', format_args=(), level=0):</p>
<pre class="prettyprint well"><code>  usage: base.alert(message, format_args=tuple(), level=0)

 Display/log a message according to the level given. The alert may be printed
 for immediate attention and/or logged quietly for later viewing.

 -message is a string that will be logged and/or displayed
 -format_args are any string formatting args for message.format()
 -level is an integer indicating the severity of the alert.

 alert severity is relative to Alert_Handler log_level and print_level;
 a lower verbosity indicates a less verbose notification, while 0 indicates
 a message that should not be suppressed. log_level and print_level
 may passed in as command line arguments to globally control verbosity.
</code></pre>
</li>
<li>
<p><strong>parallel_method</strong>(self, component_name, method_name, <em>args, </em>*kwargs):</p>
<pre class="prettyprint well"><code>  usage: base.parallel_method(component_name, method_name, 
                            *args, **kwargs) 
                            =&gt; component.method(*args, **kwargs)

 Used to call the method of an existing external component.

 -component_name is a string of the instance_name of the component
 -method_name is a string of the method to be called
 -arguments and keyword arguments for the method may optionally
  be supplied after the component_name and method_name

 The method is called immediately and the return value of the
 method is made available as the return value of parallel_method.

 parallel_method allows for the use of an object without the
 need for a reference to that object in the current scope.
</code></pre>
</li>
<li>
<p><strong>save</strong>(self, attributes=None, _file=None):</p>
<pre class="prettyprint well"><code>  usage: base.save([attributes], [_file])

 Saves the state of the calling objects __dict__. If _file is not specified,
 a pickled stream is returned. If _file is specified, the stream is written
 to the supplied file like object via pickle.dump.

 The attributes argument, if specified, should be a dictionary containing 
 the attribute:value pairs to be pickled instead of the objects __dict__.

 If the calling object is one that has been created via the update method, the 
 returned state will include any required source code to rebuild the object.
</code></pre>
</li>
<li>
<p><strong>on_load</strong>(self, attributes):</p>
<pre class="prettyprint well"><code>  usage: base.on_load(attributes)

 Implements the behavior of an object after it has been loaded. This method 
 may be extended by subclasses to customize functionality for instances created
 by the load method.
</code></pre>
</li>
<li>
<p><strong>create</strong>(self, instance_type, <em>args, </em>*kwargs):</p>
<pre class="prettyprint well"><code>  usage: object.create("module_name.object_name", 
                     args, kwargs) =&gt; instance

 Given a type or string reference to a type, and arguments,
 return an instance of the specified type. The creating
 object will call .add on the created object, which
 performs reference tracking maintainence.

 Use of the create method over direct instantiation can allow even 
 'regular' python objects to have a reference and be usable via parallel_methods 
 and Instruction objects.
</code></pre>
</li>
<li>
<p><strong>remove</strong>(self, instance):</p>
<pre class="prettyprint well"><code>  Usage: object.remove(instance)

 Removes an instance from self.objects. Modifies object.objects
 and environment.References_To
</code></pre>
</li>
<li>
<p><strong>add</strong>(self, instance):</p>
<pre class="prettyprint well"><code>  usage: object.add(instance)

 Adds an object to caller.objects[instance.__class__.__name__] and
 performs bookkeeping operations for the environment.
</code></pre>
</li>
<li>
<p><strong>delete</strong>(self):</p>
<pre class="prettyprint well"><code>  usage: object.delete()

 Explicitly delete a component. This calls remove and
 attempts to clear out known references to the object so that
 the object can be collected by the python garbage collector
</code></pre>
</li>
</ul>
<p>This objects method resolution order is:</p>
<p>(class 'mpre.base.Base', type 'object')</p>
<h2 id="reactor">Reactor</h2>
<pre class="prettyprint well"><code> usage: Reactor(attribute=value, ...) =&gt; reactor_instance

Adds reaction framework on top of a Base object. 
Reactions are event triggered chains of method calls

This class is a recent addition and is not final in it's api or implementation.
</code></pre>
<p>Default values for newly created instances:</p>
<ul>
<li>deleted                  : False</li>
<li>verbosity                : </li>
<li>memory_size              : 4096</li>
<li>memory_mode              : -1</li>
</ul>
<p>This object defines the following non-private methods:</p>
<ul>
<li>
<p><strong>reaction</strong>(self, component_name, message, _response_to='None', scope='local'):</p>
<pre class="prettyprint well"><code>  Usage: component.reaction(target_component, message, 
                         [scope='local'])

 calls a method on target_component. message is a string that
 contains the method name followed by arguments separate by
 spaces.

 The scope keyword specifies the location of the expected
 component, and the way the component will be reached.

 When scope is 'local', the component is the component that resides
 under the specified name in environment.Component_Resolve. This
 reaction happens immediately.

 The following is not implemented as of 3/1/2015:
 When scope is 'global', the component is a parallel reactor
 and the message will be written to memory. This reaction is
 scheduled among worker processes.

 When scope is "network", the component is a remote reactor
 on a remote machine and the message will be sent via a reaction 
 with the service proxy, which sends the request via the network.

 If scope is 'network', then component_name is a tuple containing
 the component name and a tuple containing the host address port
</code></pre>
</li>
<li>
<p><strong>respond_with</strong>(self, method_name):</p>
<pre class="prettyprint well"><code>  usage: self.respond_with(method)

 Specifies what method should be called when the component
 specified by a reaction returns its response.
</code></pre>
</li>
<li>
<p><strong>react</strong>(self, sender, packet):</p>
<pre class="prettyprint well"><code>  No documentation available
</code></pre>
</li>
</ul>
<p>This objects method resolution order is:</p>
<p>(class 'mpre.base.Reactor', class 'mpre.base.Base', type 'object')</p>
<h2 id="wrapper">Wrapper</h2>
<pre class="prettyprint well"><code> A wrapper to allow 'regular' python objects to function as a Reactor.
The attributes on this wrapper will overload the attributes
of the wrapped object. Any attributes not present on the wrapper object
will be gotten from the underlying wrapped object. This class
acts primarily as a wrapper and secondly as the wrapped object.
</code></pre>
<p>Default values for newly created instances:</p>
<ul>
<li>deleted                  : False</li>
<li>verbosity                : </li>
<li>memory_size              : 4096</li>
<li>memory_mode              : -1</li>
</ul>
<p>No non-private methods are defined</p>
<p>This objects method resolution order is:</p>
<p>(class 'mpre.base.Wrapper', class 'mpre.base.Reactor', class 'mpre.base.Base', type 'object')</p>
<h2 id="proxy">Proxy</h2>
<pre class="prettyprint well"><code> usage: Proxy(wrapped_object=my_object) =&gt; proxied_object

   Produces an instance that will act as the object it wraps and as an
   Reactor object simultaneously. The object will act primarily as
   the wrapped object and secondly as a proxy object. This means that   
   Proxy attributes are get/set on the underlying wrapped object first,
   and if that object does not have the attribute or it cannot be
   assigned, the action is performed on the proxy instead. This
   prioritization is the opposite of the Wrapper class.
</code></pre>
<p>Default values for newly created instances:</p>
<ul>
<li>deleted                  : False</li>
<li>verbosity                : </li>
<li>memory_size              : 4096</li>
<li>memory_mode              : -1</li>
</ul>
<p>This object defines the following non-private methods:</p>
<ul>
<li>
<p><strong>wraps</strong>(self, obj, set_defaults=False):</p>
<pre class="prettyprint well"><code>  usage: wrapper.wraps(object)

 Makes the supplied object the object that is wrapped
 by the calling wrapper. If the optional set_defaults
 attribute is True, then the wrapped objects class
 defaults will be applied.
</code></pre>
</li>
</ul>
<p>This objects method resolution order is:</p>
<p>(class 'mpre.base.Proxy', class 'mpre.base.Reactor', class 'mpre.base.Base', type 'object')</p>
</div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
        
    </body>
</html>